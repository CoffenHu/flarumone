!function(e){var t=e.babelHelpers={};t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},t.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e},t.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t.createDecoratedClass=function(){function e(e,t,n){for(var r=0;r<t.length;r++){var a=t[r],o=a.decorators,s=a.key;if(delete a.key,delete a.decorators,a.enumerable=a.enumerable||!1,a.configurable=!0,("value"in a||a.initializer)&&(a.writable=!0),o){for(var i=0;i<o.length;i++){var u=o[i];if("function"!=typeof u)throw new TypeError("The decorator for method "+a.key+" is of the invalid type "+typeof u);a=u(e,s,a)||a}if(void 0!==a.initializer){n[s]=a;continue}}Object.defineProperty(e,s,a)}}return function(t,n,r,a,o){return n&&e(t.prototype,n,a),r&&e(t,r,o),t}}(),t.createDecoratedObject=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n],a=r.decorators,o=r.key;if(delete r.key,delete r.decorators,r.enumerable=!0,r.configurable=!0,("value"in r||r.initializer)&&(r.writable=!0),a)for(var s=0;s<a.length;s++){var i=a[s];if("function"!=typeof i)throw new TypeError("The decorator for method "+r.key+" is of the invalid type "+typeof i);r=i(t,o,r)||r}r.initializer&&(r.value=r.initializer.call(t)),Object.defineProperty(t,o,r)}return t},t.defineDecoratedPropertyDescriptor=function(e,t,n){var r=n[t];if(r){var a={};for(var o in r)a[o]=r[o];a.value=a.initializer?a.initializer.call(e):void 0,Object.defineProperty(e,t,a)}},t.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},t.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},t.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},t.slicedToArray=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],a=e[Symbol.iterator]();!(n=a.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},t.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},t.hasOwn=Object.prototype.hasOwnProperty,t.slice=Array.prototype.slice,t.bind=Function.prototype.bind,t.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(r,s){try{var i=t[r](s),u=i.value}catch(l){return void n(l)}i.done?e(u):Promise.resolve(u).then(a,o)}var a=r.bind(null,"next"),o=r.bind(null,"throw");a()})}},t.interopExportWildcard=function(e,t){var n=t({},e);return delete n["default"],n},t.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},t._typeof=function(e){return e&&e.constructor===Symbol?"symbol":typeof e},t._extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.get=function n(e,t,r){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:n(o,t,r)}if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(r)},t.set=function r(e,t,n,a){var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var s=Object.getPrototypeOf(e);null!==s&&r(s,t,n,a)}else if("value"in o&&o.writable)o.value=n;else{var i=o.set;void 0!==i&&i.call(a,n)}return n},t.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},t.temporalUndefined={},t.temporalAssertDefined=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return!0},t.selfGlobal="undefined"==typeof e?self:e,t.typeofReactElement="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,t.defaultProps=function(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t},t._instanceof=function(e,t){return null!=t&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},t.interopRequire=function(e){return e&&e.__esModule?e["default"]:e}}("undefined"==typeof global?self:global),System.register("flarum/app",["flarum/App","flarum/initializers/store","flarum/initializers/preload","flarum/initializers/routes","flarum/initializers/boot"],function(e){"use strict";var t,n,r,a,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){s=new t,s.initializers.add("store",n),s.initializers.add("routes",a),s.initializers.add("preload",r,-100),s.initializers.add("boot",o,-100),s.extensionSettings={},e("default",s)}}}),System.register("flarum/components/AddExtensionModal",["flarum/components/Modal"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"className",value:function(){return"AddExtensionModal Modal--small"}},{key:"title",value:function(){return"Add Extension"}},{key:"content",value:function(){return m("div",{className:"Modal-body"},m("p",null,"One day in the not-too-distant future, this dialog will allow you to add an extension to your forum with ease. We're building an ecosystem as we speak!"),m("p",null,"In the meantime, if you manage to get your hands on a new extension, simply drop it in your forum's ",m("code",null,"extensions")," directory."),m("p",null,"If you're a developer, you can ",m("a",{href:"http://flarum.org/docs/extend"},"read the docs")," and have a go at building your own."))}}]),t}(t),e("default",n)}}}),System.register("flarum/components/AdminLinkButton",["flarum/components/LinkButton"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getButtonContent",value:function(){var e=babelHelpers.get(Object.getPrototypeOf(t.prototype),"getButtonContent",this).call(this);return e.push(m("div",{className:"AdminLinkButton-description"},this.props.description)),e}}]),t}(t),e("default",n)}}}),System.register("flarum/components/AdminNav",["flarum/Component","flarum/components/AdminLinkButton","flarum/components/SelectDropdown","flarum/utils/ItemList"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]}],execute:function(){o=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m(r,{className:"AdminNav App-titleControl",buttonClassName:"Button",children:this.items().toArray()})}},{key:"items",value:function o(){var o=new a;return o.add("dashboard",n.component({href:app.route("dashboard"),icon:"bar-chart",children:"Dashboard",description:"Your forum at a glance."})),o.add("basics",n.component({href:app.route("basics"),icon:"pencil",children:"Basics",description:"Set your forum title, language, and other basic settings."})),o.add("permissions",n.component({href:app.route("permissions"),icon:"key",children:"Permissions",description:"Configure who can see and do what."})),o.add("appearance",n.component({href:app.route("appearance"),icon:"paint-brush",children:"Appearance",description:"Customize your forum's colors, logos, and other variables."})),o.add("extensions",n.component({href:app.route("extensions"),icon:"puzzle-piece",children:"Extensions",description:"Add extra functionality to your forum and make it your own."})),o}}]),t}(t),e("default",o)}}}),System.register("flarum/components/AppearancePage",["flarum/Component","flarum/components/Button","flarum/components/Switch","flarum/components/EditCustomCssModal","flarum/utils/saveConfig"],function(e){"use strict";var t,n,r,a,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){s=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.primaryColor=m.prop(app.config.theme_primary_color),this.secondaryColor=m.prop(app.config.theme_secondary_color),this.darkMode=m.prop("1"===app.config.theme_dark_mode),this.coloredHeader=m.prop("1"===app.config.theme_colored_header)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("div",{className:"AppearancePage"},m("div",{className:"container"},m("form",{onsubmit:this.onsubmit.bind(this)},m("fieldset",{className:"AppearancePage-colors"},m("legend",null,"Colors"),m("div",{className:"helpText"},"Choose two colors to theme your forum with. The first will be used as a highlight color, while the second will be used to style background elements."),m("div",{className:"AppearancePage-colors-input"},m("input",{className:"FormControl",placeholder:"#aaaaaa",value:this.primaryColor(),onchange:m.withAttr("value",this.primaryColor)}),m("input",{className:"FormControl",placeholder:"#aaaaaa",value:this.secondaryColor(),onchange:m.withAttr("value",this.secondaryColor)})),r.component({state:this.darkMode(),children:"Dark Mode",onchange:this.darkMode}),r.component({state:this.coloredHeader(),children:"Colored Header",onchange:this.coloredHeader}),n.component({className:"Button Button--primary",children:"Save Changes",loading:this.loading}))),m("fieldset",null,m("legend",null,"Custom Styles"),m("div",{className:"helpText"},"Customize your forum's appearance by adding your own LESS/CSS code to be applied on top of Flarum's default styles."),n.component({className:"Button",children:"Edit Custom CSS",onclick:function(){return app.modal.show(new a)}}))))}},{key:"onsubmit",value:function(e){e.preventDefault();var t=/^#[0-9a-f]{3}([0-9a-f]{3})?$/i;return t.test(this.primaryColor())&&t.test(this.secondaryColor())?(this.loading=!0,void o({theme_primary_color:this.primaryColor(),theme_secondary_color:this.secondaryColor(),theme_dark_mode:this.darkMode(),theme_colored_header:this.coloredHeader()}).then(function(){return window.location.reload()})):void alert("Please enter a hexadecimal color code.")}}]),t}(t),e("default",s)}}}),System.register("flarum/components/BasicsPage",["flarum/Component","flarum/components/FieldSet","flarum/components/Select","flarum/components/Button","flarum/components/Alert","flarum/utils/saveConfig"],function(e){"use strict";var t,n,r,a,o,s,i;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]}],execute:function(){i=function(e){function t(){var e=this;babelHelpers.classCallCheck(this,t);for(var n=arguments.length,r=Array(n),a=0;n>a;a++)r[a]=arguments[a];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r),this.loading=!1,this.fields=["forum_title","forum_description","default_locale","default_route","welcome_title","welcome_message"],this.values={};var o=app.config;this.fields.forEach(function(t){return e.values[t]=m.prop(o[t])}),this.localeOptions={};var s=app.locales;for(var i in s)this.localeOptions[i]=s[i]+" ("+i+")"}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=this;return m("div",{className:"BasicsPage"},m("div",{className:"container"},m("form",{onsubmit:this.onsubmit.bind(this)},n.component({label:"Forum Title",children:[m("input",{className:"FormControl",value:this.values.forum_title(),oninput:m.withAttr("value",this.values.forum_title)})]}),n.component({label:"Forum Description",children:[m("div",{className:"helpText"},"Enter a short sentence or two that describes your community. This will appear in the meta tag and show up in search engines."),m("textarea",{className:"FormControl",value:this.values.forum_description(),oninput:m.withAttr("value",this.values.forum_description)})]}),Object.keys(this.localeOptions).length>1?n.component({label:"Default Language",children:[r.component({options:this.localeOptions,onchange:this.values.default_locale})]}):"",n.component({label:"Home Page",className:"BasicsPage-homePage",children:[m("div",{className:"helpText"},"Choose the page which users will first see when they visit your forum. If entering a custom value, use the path relative to the forum root."),m("label",{className:"checkbox"},m("input",{type:"radio",name:"homePage",value:"/all",checked:"/all"===this.values.default_route(),onclick:m.withAttr("value",this.values.default_route)}),"All Discussions"),m("label",{className:"checkbox"},m("input",{type:"radio",name:"homePage",value:"custom",checked:"/all"!==this.values.default_route(),onclick:function(){e.values.default_route(""),m.redraw(!0),e.$(".BasicsPage-homePage input").select()}}),"Custom ",m("input",{className:"FormControl",value:this.values.default_route(),oninput:m.withAttr("value",this.values.default_route),style:"/all"!==this.values.default_route()?"margin-top: 5px":"display:none"}))]}),n.component({label:"Welcome Banner",className:"BasicsPage-welcomeBanner",children:[m("div",{className:"helpText"},"Configure the text that displays in the banner on the All Discussions page. Use this to welcome guests to your forum."),m("div",{className:"BasicsPage-welcomeBanner-input"},m("input",{className:"FormControl",value:this.values.welcome_title(),oninput:m.withAttr("value",this.values.welcome_title)}),m("textarea",{className:"FormControl",value:this.values.welcome_message(),oninput:m.withAttr("value",this.values.welcome_message)}))]}),a.component({type:"submit",className:"Button Button--primary",children:"Save Changes",loading:this.loading,disabled:!this.changed()}))))}},{key:"changed",value:function(){var e=this,t=app.config;return this.fields.some(function(n){return e.values[n]()!==t[n]})}},{key:"onsubmit",value:function(e){var t=this;if(e.preventDefault(),!this.loading){this.loading=!0,app.alerts.dismiss(this.successAlert);var n={};this.fields.forEach(function(e){return n[e]=t.values[e]()}),s(n).then(function(){app.alerts.show(t.successAlert=new o({type:"success",children:"Your changes were saved."}))})["finally"](function(){t.loading=!1,m.redraw()})}}}]),t}(t),e("default",i)}}}),System.register("flarum/components/ConfigDropdown",["flarum/components/SelectDropdown","flarum/components/Button","flarum/utils/saveConfig"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"initProps",value:function(e){var a=this;babelHelpers.get(Object.getPrototypeOf(t),"initProps",this).call(this,e),e.className="ConfigDropdown",e.buttonClassName="Button Button--text",e.caretIcon="caret-down",e.defaultLabel="Custom",e.children=e.options.map(function(t){var o=t.value,s=t.label,i=app.config[e.key]===o;return n.component({children:s,icon:i?"check":!0,onclick:r.bind(a,babelHelpers.defineProperty({},e.key,o)),active:i})})}}]),t}(t),e("default",a)}}}),System.register("flarum/components/DashboardPage",["flarum/Component"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("div",{className:"DashboardPage"},m("div",{className:"container"},m("h2",null,"Welcome to Flarum Beta"),m("p",null,"Thanks for trying out Flarum! You are running version ",m("strong",null,app.forum.attribute("version")),". This is beta software, and should not be used in production."),m("ul",null,m("li",null,"Having problems? Read the ",m("a",{href:"http://flarum.org/docs/troubleshooting",target:"_blank"},"Troubleshooting docs"),"."),m("li",null,"Found a bug? Please ",m("a",{href:"https://github.com/flarum/core/issues",target:"_blank"},"report it on GitHub"),"."),m("li",null,"Got some feedback? Let us know what you think on the ",m("a",{href:"http://discuss.flarum.org",target:"_blank"},"Support Forum"),"."),m("li",null,"Want to contribute? Read the ",m("a",{href:"http://flarum.org/docs/contributing",target:"_blank"},"Contributing docs"),"."),m("li",null,"Interested in developing extensions? Read the ",m("a",{href:"http://flarum.org/docs/extend",target:"_blank"},"Extension docs"),"."))))}}]),t}(t),e("default",n)}}}),System.register("flarum/components/EditCustomCssModal",["flarum/components/Modal","flarum/components/Button","flarum/utils/saveConfig"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.customLess=m.prop(app.config.custom_less||"")}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"className",value:function(){return"EditCustomCssModal Modal--large"}},{key:"title",value:function(){return"Edit Custom CSS"}},{key:"content",value:function(){return m("div",{className:"Modal-body"},m("p",null,"Customize your forum's appearance by adding your own LESS/CSS code to be applied on top of Flarum's default styles. ",m("a",{href:""},"Read the documentation")," for more information."),m("div",{className:"Form"},m("div",{className:"Form-group"},m("textarea",{className:"FormControl",rows:"30",value:this.customLess(),onchange:m.withAttr("value",this.customLess)})),m("div",{className:"Form-group"},n.component({className:"Button Button--primary",children:"Save Changes",loading:this.loading}))))}},{key:"onsubmit",value:function(e){e.preventDefault(),this.loading=!0,r({custom_less:this.customLess()}).then(function(){return window.location.reload()})}}]),t}(t),e("default",a)}}}),System.register("flarum/components/EditGroupModal",["flarum/components/Modal","flarum/components/Button","flarum/components/Badge","flarum/models/Group"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]}],execute:function(){o=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.group=this.props.group||app.store.createRecord("groups"),this.nameSingular=m.prop(this.group.nameSingular()||""),this.namePlural=m.prop(this.group.namePlural()||""),this.icon=m.prop(this.group.icon()||""),this.color=m.prop(this.group.color()||"")}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"className",value:function(){return"EditGroupModal Modal--small"}},{key:"title",value:function(){return[this.color()||this.icon()?r.component({icon:this.icon(),style:{backgroundColor:this.color()}}):""," ",this.namePlural()||"Create Group"]}},{key:"content",value:function(){return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group"},m("label",null,"Name"),m("div",{className:"EditGroupModal-name-input"},m("input",{className:"FormControl",placeholder:"Singular (e.g. Mod)",value:this.nameSingular(),oninput:m.withAttr("value",this.nameSingular)}),m("input",{className:"FormControl",placeholder:"Plural (e.g. Mods)",value:this.namePlural(),oninput:m.withAttr("value",this.namePlural)}))),m("div",{className:"Form-group"},m("label",null,"Color"),m("input",{className:"FormControl",placeholder:"#aaaaaa",value:this.color(),oninput:m.withAttr("value",this.color)})),m("div",{className:"Form-group"},m("label",null,"Icon"),m("div",{className:"helpText"},"Enter the name of any ",m("a",{href:"http://fortawesome.github.io/Font-Awesome/icons/",tabindex:"-1"},"FontAwesome")," icon class, ",m("em",null,"without")," the ",m("code",null,"fa-")," prefix."),m("input",{className:"FormControl",placeholder:"bolt",value:this.icon(),oninput:m.withAttr("value",this.icon)})),m("div",{className:"Form-group"},n.component({type:"submit",className:"Button Button--primary EditGroupModal-save",loading:this.loading,children:"Save Changes"}),this.group.exists&&this.group.id()!==a.ADMINISTRATOR_ID?m("button",{type:"button",className:"Button EditGroupModal-delete",onclick:this["delete"].bind(this)},"Delete Group"):"")))}},{key:"onsubmit",value:function(e){var t=this;e.preventDefault(),this.loading=!0,this.group.save({nameSingular:this.nameSingular(),namePlural:this.namePlural(),color:this.color(),icon:this.icon()}).then(function(){return t.hide()},function(){t.loading=!1,m.redraw()})}},{key:"delete",value:function(){confirm("Are you sure you want to delete this group? The group members will NOT be deleted.")&&(this.group["delete"]().then(function(){return m.redraw()}),this.hide())}}]),t}(t),e("default",o)}}}),System.register("flarum/components/ExtensionsPage",["flarum/Component","flarum/components/LinkButton","flarum/components/Button","flarum/components/Dropdown","flarum/components/Separator","flarum/components/AddExtensionModal","flarum/components/LoadingModal","flarum/utils/ItemList","flarum/helpers/icon"],function(e){"use strict";var t,n,r,a,o,s,i,u,l,c;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){i=e["default"]},function(e){u=e["default"]},function(e){l=e["default"]}],execute:function(){c=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=this;return m("div",{className:"ExtensionsPage"},m("div",{className:"ExtensionsPage-header"},m("div",{className:"container"},r.component({children:"Add Extension",icon:"plus",className:"Button Button--primary",onclick:function(){return app.modal.show(new s)}}))),m("div",{className:"ExtensionsPage-list"},m("div",{className:"container"},m("ul",{className:"ExtensionList"},app.extensions.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(t){return m("li",{className:"ExtensionListItem "+(e.isEnabled(t.name)?"":"disabled")},a.component({icon:"ellipsis-v",children:e.controlItems(t).toArray(),className:"ExtensionListItem-controls",buttonClassName:"Button Button--icon Button--flat",menuClassName:"Dropdown-menu--right"}),m("div",{className:"ExtensionListItem-content"},m("span",{className:"ExtensionListItem-icon ExtensionIcon",style:t.icon},t.icon?l(t.icon.name):""),m("h4",{className:"ExtensionListItem-title"},t.title," ",m("small",{className:"ExtensionListItem-version"},t.version)),m("div",{className:"ExtensionListItem-description"},t.description)))})))))}},{key:"controlItems",value:function(e){var t=new u,n=this.isEnabled(e.name);return app.extensionSettings[e.name]&&t.add("settings",r.component({icon:"cog",children:"Settings",onclick:app.extensionSettings[e.name]})),t.add("toggle",r.component({icon:"power-off",children:n?"Disable":"Enable",onclick:function(){app.request({url:app.forum.attribute("apiUrl")+"/extensions/"+e.name,method:"PATCH",data:{enabled:!n}}).then(function(){return window.location.reload()}),app.modal.show(new i)}})),n||t.add("uninstall",r.component({icon:"trash-o",children:"Uninstall",onclick:function(){app.request({url:app.forum.attribute("apiUrl")+"/extensions/"+e.name,method:"DELETE"}).then(function(){return window.location.reload()}),app.modal.show(new i)}})),t}},{key:"isEnabled",value:function(e){var t=JSON.parse(app.config.extensions_enabled);return-1!==t.indexOf(e)}}]),t}(t),e("default",c)}}}),System.register("flarum/components/HeaderPrimary",["flarum/Component","flarum/utils/ItemList","flarum/helpers/listItems"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("ul",{className:"Header-controls"},r(this.items().toArray()))}},{key:"items",value:function(){return new n}}]),t}(t),e("default",a)}}}),System.register("flarum/components/HeaderSecondary",["flarum/Component","flarum/components/SessionDropdown","flarum/utils/ItemList","flarum/helpers/listItems"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]}],execute:function(){o=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("ul",{className:"Header-controls"},a(this.items().toArray()))}},{key:"items",value:function o(){var o=new r;return o.add("session",n.component()),o}}]),t}(t),e("default",o)}}}),System.register("flarum/components/LoadingModal",["flarum/components/Modal"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isDismissible",value:function(){return!1}},{key:"className",value:function(){return"LoadingModal Modal--small"}},{key:"title",value:function(){return"Please Wait..."}},{key:"content",value:function(){return""}}]),t}(t),e("default",n)}}}),System.register("flarum/components/PermissionDropdown",["flarum/components/Dropdown","flarum/components/Button","flarum/components/Separator","flarum/models/Group","flarum/components/GroupBadge"],function(e){"use strict";function t(e){var t=app.store.getById("groups",e);return t?s.component({group:t,label:null}):""}var n,r,a,o,s,i;return{setters:[function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]}],execute:function(){i=function(e){function n(){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"view",value:function(){var e=this;this.props.children=[];var i=app.permissions[this.props.permission]||[],u=-1!==i.indexOf(o.GUEST_ID),l=-1!==i.indexOf(o.MEMBER_ID),c=app.store.getById("groups",o.ADMINISTRATOR_ID);return u?this.props.label="Everyone":l?this.props.label="Members":this.props.label=[t(o.ADMINISTRATOR_ID),i.map(t)],this.props.allowGuest&&this.props.children.push(r.component({children:"Everyone",icon:u?"check":!0,onclick:function(){return e.save([o.GUEST_ID])}})),this.props.children.push(r.component({children:"Members",icon:l?"check":!0,onclick:function(){return e.save([o.MEMBER_ID])}}),a.component(),r.component({children:[s.component({group:c,label:null})," ",c.namePlural()],icon:u||l?!0:"check",disabled:!u&&!l,onclick:function(t){t.stopPropagation(),e.save([])}})),[].push.apply(this.props.children,app.store.all("groups").filter(function(e){return-1===[o.ADMINISTRATOR_ID,o.GUEST_ID,o.MEMBER_ID].indexOf(e.id())}).map(function(t){return r.component({children:[s.component({group:t,label:null})," ",t.namePlural()],icon:-1!==i.indexOf(t.id())?"check":!0,onclick:function(n){n.stopPropagation(),e.toggle(t.id())}})})),babelHelpers.get(Object.getPrototypeOf(n.prototype),"view",this).call(this)}},{key:"save",value:function(e){var t=this.props.permission;app.permissions[t]=e,app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/permission",data:{permission:t,groupIds:e}})}},{key:"toggle",value:function(e){var t=this.props.permission,n=app.permissions[t]||[],r=n.indexOf(e);-1!==r?n.splice(r,1):(n.push(e),n=n.filter(function(e){return-1===[o.GUEST_ID,o.MEMBER_ID].indexOf(e)})),this.save(n)}}],[{key:"initProps",value:function(e){babelHelpers.get(Object.getPrototypeOf(n),"initProps",this).call(this,e),e.className="PermissionDropdown",e.buttonClassName="Button Button--text"}}]),n}(n),e("default",i)}}}),System.register("flarum/components/PermissionGrid",["flarum/Component","flarum/components/PermissionDropdown","flarum/components/ConfigDropdown","flarum/components/Button","flarum/utils/ItemList"],function(e){"use strict";var t,n,r,a,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){s=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.permissions=this.permissionItems().toArray()}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=this.scopeItems().toArray(),t=function(t){return e.map(function(e){return m("td",null,e.render(t))})};return m("table",{className:"PermissionGrid"},m("thead",null,m("tr",null,m("td",null),e.map(function(e){return m("th",null,e.label," ",e.onremove?a.component({
icon:"times",className:"Button Button--text PermissionGrid-removeScope",onclick:e.onremove}):"")}),m("th",null,this.scopeControlItems().toArray()))),this.permissions.map(function(e){return m("tbody",null,m("tr",{className:"PermissionGrid-section"},m("th",null,e.label),t(e),m("td",null)),e.children.map(function(e){return m("tr",{className:"PermissionGrid-child"},m("th",null,e.label),t(e),m("td",null))}))}))}},{key:"permissionItems",value:function(){var e=new o;return e.add("view",{label:"View the forum",children:this.viewItems().toArray()}),e.add("start",{label:"Start discussions",children:this.startItems().toArray()}),e.add("reply",{label:"Reply to discussions",children:this.replyItems().toArray()}),e.add("moderate",{label:"Moderate",children:this.moderateItems().toArray()}),e}},{key:"viewItems",value:function(){var e=new o;return e.add("view",{label:"View discussions",permission:"forum.view",allowGuest:!0}),e.add("signUp",{label:"Sign up",setting:function(){return r.component({key:"allow_sign_up",options:[{value:"1",label:"Open"},{value:"0",label:"Closed"}]})}}),e}},{key:"startItems",value:function(){var e=new o;return e.add("start",{label:"Start discussions",permission:"forum.startDiscussion"}),e.add("allowRenaming",{label:"Allow renaming",setting:function(){var e=parseInt(app.config.allow_renaming,10);return r.component({defaultLabel:e?"For "+e+" minutes":"Indefinitely",key:"allow_renaming",options:[{value:"-1",label:"Indefinitely"},{value:"10",label:"For 10 minutes"},{value:"reply",label:"Until next reply"}]})}}),e}},{key:"replyItems",value:function(){var e=new o;return e.add("reply",{label:"Reply to discussions",permission:"discussion.reply"}),e.add("allowPostEditing",{label:"Allow post editing",setting:function(){var e=parseInt(app.config.allow_post_editing,10);return r.component({defaultLabel:e?"For "+e+" minutes":"Indefinitely",key:"allow_post_editing",options:[{value:"-1",label:"Indefinitely"},{value:"10",label:"For 10 minutes"},{value:"reply",label:"Until next reply"}]})}}),e}},{key:"moderateItems",value:function(){var e=new o;return e.add("editPosts",{label:"Edit posts",permission:"discussion.editPosts"}),e.add("deletePosts",{label:"Delete posts",permission:"discussion.deletePosts"}),e.add("renameDiscussions",{label:"Rename discussions",permission:"discussion.rename"}),e.add("deleteDiscussions",{label:"Delete discussions",permission:"discussion.delete"}),e}},{key:"scopeItems",value:function(){var e=new o;return e.add("global",{label:"Global",render:function(e){return e.setting?e.setting():e.permission?n.component(babelHelpers._extends({},e)):""}}),e}},{key:"scopeControlItems",value:function(){return new o}}]),t}(t),e("default",s)}}}),System.register("flarum/components/PermissionsPage",["flarum/Component","flarum/components/GroupBadge","flarum/components/EditGroupModal","flarum/models/Group","flarum/helpers/icon","flarum/components/PermissionGrid"],function(e){"use strict";var t,n,r,a,o,s,i;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]}],execute:function(){i=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("div",{className:"PermissionsPage"},m("div",{className:"PermissionsPage-groups"},m("div",{className:"container"},app.store.all("groups").filter(function(e){return-1===[a.GUEST_ID,a.MEMBER_ID].indexOf(e.id())}).map(function(e){return m("button",{className:"Button Group",onclick:function(){return app.modal.show(new r({group:e}))}},n.component({group:e,className:"Group-icon",label:null}),m("span",{className:"Group-name"},e.namePlural()))}),m("button",{className:"Button Group Group--add",onclick:function(){return app.modal.show(new r)}},o("plus",{className:"Group-icon"}),m("span",{className:"Group-name"},"New Group")))),m("div",{className:"PermissionsPage-permissions"},m("div",{className:"container"},s.component())))}}]),t}(t),e("default",i)}}}),System.register("flarum/components/SessionDropdown",["flarum/helpers/avatar","flarum/helpers/username","flarum/components/Dropdown","flarum/components/Button","flarum/utils/ItemList"],function(e){"use strict";var t,n,r,a,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){s=function(e){function r(){babelHelpers.classCallCheck(this,r),babelHelpers.get(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"view",value:function(){return this.props.children=this.items().toArray(),babelHelpers.get(Object.getPrototypeOf(r.prototype),"view",this).call(this)}},{key:"getButtonContent",value:function(){var e=app.session.user;return[t(e)," ",m("span",{className:"Button-label"},n(e))]}},{key:"items",value:function s(){var s=new o;return s.add("logOut",a.component({icon:"sign-out",children:app.trans("core.log_out"),onclick:app.session.logout.bind(app.session)}),-100),s}}],[{key:"initProps",value:function(e){babelHelpers.get(Object.getPrototypeOf(r),"initProps",this).call(this,e),e.className="SessionDropdown",e.buttonClassName="Button Button--user Button--flat",e.menuClassName="Dropdown-menu--right"}}]),r}(r),e("default",s)}}}),System.register("flarum/initializers/boot",["flarum/utils/ScrollListener","flarum/utils/Drawer","flarum/utils/mapRoutes","flarum/components/Navigation","flarum/components/HeaderPrimary","flarum/components/HeaderSecondary","flarum/components/AdminNav","flarum/components/ModalManager","flarum/components/AlertManager"],function(e){"use strict";function t(e){m.startComputation(),m.mount(document.getElementById("app-navigation"),o.component({className:"App-backControl",drawer:!0})),m.mount(document.getElementById("header-navigation"),o.component()),m.mount(document.getElementById("header-primary"),s.component()),m.mount(document.getElementById("header-secondary"),i.component()),m.mount(document.getElementById("admin-navigation"),u.component()),e.drawer=new r,e.modal=m.mount(document.getElementById("modal"),l.component()),e.alerts=m.mount(document.getElementById("alerts"),c.component()),e.history={canGoBack:function(){return!0},backUrl:function(){return e.forum.attribute("baseUrl")},back:function(){window.location=this.backUrl()}},m.route.mode="hash",m.route(document.getElementById("content"),"/",a(e.routes)),m.endComputation(),new n(function(e){var t=$("#app"),n=t.offset().top;t.toggleClass("affix",e>=n).toggleClass("scrolled",e>n)}).start(),e.booted=!0}var n,r,a,o,s,i,u,l,c;return e("default",t),{setters:[function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){i=e["default"]},function(e){u=e["default"]},function(e){l=e["default"]},function(e){c=e["default"]}],execute:function(){}}}),System.register("flarum/initializers/routes",["flarum/components/DashboardPage","flarum/components/BasicsPage","flarum/components/PermissionsPage","flarum/components/AppearancePage","flarum/components/ExtensionsPage"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){e("default",function(e){e.routes={dashboard:{path:"/",component:t.component()},basics:{path:"/basics",component:n.component()},permissions:{path:"/permissions",component:r.component()},appearance:{path:"/appearance",component:a.component()},extensions:{path:"/extensions",component:o.component()}}})}}}),System.register("flarum/utils/saveConfig",[],function(e){"use strict";function t(e){var t=JSON.parse(JSON.stringify(app.config));return babelHelpers._extends(app.config,e),app.request({method:"POST",url:app.forum.attribute("apiUrl")+"/config",data:{config:e}})["catch"](function(e){throw app.config=t,e})}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/App",["flarum/utils/ItemList","flarum/components/Alert","flarum/Translator","flarum/utils/extract","flarum/utils/patchMithril"],function(e){"use strict";var t,n,r,a,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){s=function(){function e(){babelHelpers.classCallCheck(this,e),o(window),this.forum=null,this.routes={},this.preload={data:null,document:null,session:null},this.initializers=new t,this.session=null,this.translator=new r,this.store=null,this.cache={},this.booted=!1,this.requestError=null,this.title="",this.titleCount=0}return babelHelpers.createClass(e,[{key:"boot",value:function(){var e=this;this.initializers.toArray().forEach(function(t){return t(e)})}},{key:"preloadedDocument",value:function(){if(app.preload.document){var e=app.store.pushPayload(app.preload.document);return app.preload.document=null,e}return null}},{key:"setTitle",value:function(e){this.title=e,this.updateTitle()}},{key:"setTitleCount",value:function(e){this.titleCount=e,this.updateTitle()}},{key:"updateTitle",value:function(){document.title=(this.titleCount?"("+this.titleCount+") ":"")+(this.title?this.title+" - ":"")+this.forum.attribute("title")}},{key:"request",value:function(e){var t=this;e.config=e.config||this.session.authorize.bind(this.session),e.background=e.background||!0,e.deserialize=e.deserialize||function(e){try{return JSON.parse(e)}catch(t){throw new Error("Oops! Something went wrong on the server. Please reload the page and try again.")}};var r=e.extract;return e.extract=function(e){var t=e.status;if(t>=500&&599>=t)throw new Error("Oops! Something went wrong on the server. Please reload the page and try again.");return r?r(e.responseText):e.responseText.length>0?e.responseText:null},this.alerts.dismiss(this.requestError),m.request(e).then(null,function(e){throw e instanceof Error&&t.alerts.show(t.requestError=new n({type:"error",children:e.message})),e})}},{key:"alertErrors",value:function(e){var t=this;e.forEach(function(e){t.alerts.show(new n({type:"error",children:e.detail}))})}},{key:"route",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.routes[e].path.replace(/:([^\/]+)/g,function(e,n){return a(t,n)}),r=m.route.buildQueryString(t),o="pathname"===m.route.mode?app.forum.attribute("basePath"):"";return o+n+(r?"?"+r:"")}},{key:"trans",value:function(e,t){return this.translator.trans(e,t)}}]),e}(),e("default",s)}}}),System.register("flarum/Component",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(t,n){void 0===t&&(t={}),babelHelpers.classCallCheck(this,e),n&&(t.children=n),this.constructor.initProps(t),this.props=t,this.element=null,this.init()}return babelHelpers.createClass(e,[{key:"init",value:function(){}},{key:"onunload",value:function(){}},{key:"render",value:function(){var e=this,t=this.view();t.attrs=t.attrs||{};var n=t.attrs.config;return t.attrs.config=function(){for(var t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];e.element=r[0],e.config.apply(e,r.slice(1)),n&&n.apply(e,r)},t}},{key:"$",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=$(this.element);return e?t.find(e):t})},{key:"config",value:function(){}},{key:"view",value:function(){throw new Error("Component#view must be implemented by subclass")}}],[{key:"component",value:function(e,t){void 0===e&&(e={});var n=babelHelpers._extends({},e);t&&(n.children=t),this.initProps(n);var r=function(e){return e.props=n,e.render()};r.$original=this.prototype.view;var a={controller:this.bind(void 0,n),view:r,props:n,component:this};return n.key&&(a.attrs={key:n.key}),a}},{key:"initProps",value:function(e){}}]),e}(),e("default",t)}}}),System.register("flarum/Model",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(t,n){void 0===t&&(t={}),babelHelpers.classCallCheck(this,e),this.data=t,this.freshness=new Date,this.exists=!1,this.store=n}return babelHelpers.createClass(e,[{key:"id",value:function(){return this.data.id}},{key:"attribute",value:function(e){return this.data.attributes[e]}},{key:"pushData",value:function(t){for(var n in t)if("object"==typeof t[n]){this.data[n]=this.data[n]||{};for(var r in t[n])t[n][r]instanceof e&&(t[n][r]={data:e.getRelationshipData(t[n][r])}),this.data[n][r]=t[n][r]}else this.data[n]=t[n];this.freshness=new Date}},{key:"pushAttributes",value:function(e){this.pushData({attributes:e})}},{key:"save",value:function(t){var n=this,r={type:this.data.type,id:this.data.id,attributes:t};if(t.relationships){r.relationships={};for(var a in t.relationships){var o=t.relationships[a];r.relationships[a]={data:o instanceof Array?o.map(e.getRelationshipData):e.getRelationshipData(o)}}delete t.relationships}var s=JSON.parse(JSON.stringify(this.data));return this.pushData(r),app.request({method:this.exists?"PATCH":"POST",url:app.forum.attribute("apiUrl")+this.apiEndpoint(),data:{data:r}}).then(function(e){return n.store.data[e.data.type]=n.store.data[e.data.type]||{},n.store.data[e.data.type][e.data.id]=n,n.store.pushPayload(e)},function(e){throw n.pushData(s),e})}},{key:"delete",value:function(e){var t=this;return this.exists?app.request({method:"DELETE",url:app.forum.attribute("apiUrl")+this.apiEndpoint(),data:e}).then(function(){t.exists=!1,t.store.remove(t)}):m.deferred.resolve().promise}},{key:"apiEndpoint",value:function(){return"/"+this.data.type+(this.exists?"/"+this.data.id:"")}}],[{key:"attribute",value:function(e,t){return function(){var n=this.data.attributes&&this.data.attributes[e];return t?t(n):n}}},{key:"hasOne",value:function(e){return function(){if(this.data.relationships){var t=this.data.relationships[e];if(t)return app.store.getById(t.data.type,t.data.id)}return!1}}},{key:"hasMany",value:function(e){return function(){if(this.data.relationships){var t=this.data.relationships[e];if(t)return t.data.map(function(e){return app.store.getById(e.type,e.id)})}return!1}}},{key:"transformDate",value:function(e){return e?new Date(e):null}},{key:"getRelationshipData",value:function(e){return{type:e.data.type,id:e.data.id}}}]),e}(),e("default",t)}}}),System.register("flarum/Session",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.user=n,this.token=t}return babelHelpers.createClass(e,[{key:"login",value:function(e,t){return app.request({method:"POST",url:app.forum.attribute("baseUrl")+"/login",data:{identification:e,password:t}}).then(function(){return window.location.reload()})}},{key:"logout",value:function(){window.location=app.forum.attribute("baseUrl")+"/logout?token="+this.token}},{key:"authorize",value:function(e){e.setRequestHeader("Authorization","Token "+this.token)}}]),e}(),e("default",t)}}}),System.register("flarum/Store",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(t){babelHelpers.classCallCheck(this,e),this.data={},this.models=t}return babelHelpers.createClass(e,[{key:"pushPayload",value:function(e){e.included&&e.included.map(this.pushObject.bind(this));var t=e.data instanceof Array?e.data.map(this.pushObject.bind(this)):this.pushObject(e.data);return t.payload=e,t}},{key:"pushObject",value:function(e){if(!this.models[e.type])return null;var t=this.data[e.type]=this.data[e.type]||{};return t[e.id]?t[e.id].pushData(e):t[e.id]=this.createRecord(e.type,e),t[e.id].exists=!0,t[e.id]}},{key:"find",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n,a=app.forum.attribute("apiUrl")+"/"+e;return t instanceof Array?a+="?ids[]="+t.join("&ids[]="):"object"==typeof t?r=t:t&&(a+="/"+t),app.request({method:"GET",url:a,data:r}).then(this.pushPayload.bind(this))}},{key:"getById",value:function(e,t){return this.data[e]&&this.data[e][t]}},{key:"getBy",value:function(e,t,n){return this.all(e).filter(function(e){return e[t]()===n})[0]}},{key:"all",value:function(e){var t=this.data[e];return t?Object.keys(t).map(function(e){return t[e]}):[]}},{key:"remove",value:function(e){delete this.data[e.data.type][e.id()]}},{key:"createRecord",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.type=t.type||e,new this.models[e](t,this)}}]),e}(),e("default",t)}}}),System.register("flarum/Translator",["flarum/models/User","flarum/helpers/username","flarum/utils/extractText","flarum/utils/extract"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]}],execute:function(){o=function(){function e(){babelHelpers.classCallCheck(this,e),this.translations={}}return babelHelpers.createClass(e,[{key:"plural",value:function(e){return 1===e?"one":"other"}},{key:"trans",value:function(e,t,o){void 0===t&&(t={});var s=e.split("."),i=this.translations;if(s.forEach(function(e){i=i&&i[e]}),i&&"object"==typeof i&&"undefined"!=typeof t.count&&(i=i[this.plural(r(t.count))]),"user"in t){var u=a(t,"user");t.username||(t.username=n(u))}return"string"==typeof i?(i=i.split(new RegExp("({[^}]+})","gi")),i.forEach(function(e,n){var r=e.match(/^{(.+)}$/i);r&&(i[n]=t[r[1]])}),i):o||[e]}}]),e}(),e("default",o)}}}),System.register("flarum/extend",[],function(e){"use strict";function t(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=Array(e),a=0;e>a;a++)t[a]=arguments[a];var o=r?r.apply(this,t):void 0;return n.apply(this,[o].concat(t)),o}}function n(e,t,n){var r=e[t];e[t]=function(){for(var e=arguments.length,t=Array(e),a=0;e>a;a++)t[a]=arguments[a];return n.apply(this,[r.bind(this)].concat(t))}}return e("extend",t),e("override",n),{setters:[],execute:function(){}}}),System.register("flarum/components/Alert",["flarum/Component","flarum/components/Button","flarum/helpers/listItems","flarum/utils/extract"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]}],execute:function(){o=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=babelHelpers._extends({},this.props),t=a(e,"type");e.className="Alert Alert--"+t+" "+(e.className||"");var o=a(e,"children"),s=a(e,"controls")||[],i=a(e,"dismissible"),u=a(e,"ondismiss"),l=[];return(i||void 0===i)&&l.push(m(n,{icon:"times",className:"Button Button--link Button--icon Alert-dismiss",onclick:u})),m("div",e,m("span",{className:"Alert-body"},o),m("ul",{className:"Alert-controls"},r(s.concat(l))))}}]),t}(t),e("default",o)}}}),System.register("flarum/components/AlertManager",["flarum/Component","flarum/components/Alert"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.components=[]}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("div",{className:"AlertManager"},this.components.map(function(e){return m("div",{className:"AlertManager-alert"},e)}))}},{key:"show",value:function(e){if(!(e instanceof n))throw new Error("The AlertManager component can only show Alert components");e.props.ondismiss=this.dismiss.bind(this,e),this.components.push(e),m.redraw()}},{key:"dismiss",value:function(e){var t=this.components.indexOf(e);-1!==t&&(this.components.splice(t,1),m.redraw())}},{key:"clear",value:function(){this.components=[],m.redraw()}}]),t}(t),e("default",r)}}}),System.register("flarum/components/Badge",["flarum/Component","flarum/helpers/icon","flarum/utils/extract"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=babelHelpers._extends({},this.props),t=r(e,"type"),a=r(e,"icon");return e.className="Badge "+(t?"Badge--"+t:"")+" "+(e.className||""),e.title=r(e,"label")||"",e.key=e.type,m("span",e,a?n(a,{className:"Badge-icon"}):m.trust("&nbsp;"))}},{key:"config",value:function(e){e||this.props.label&&this.$().tooltip({container:"body"})}}]),t}(t),e("default",a)}}}),System.register("flarum/components/Button",["flarum/Component","flarum/helpers/icon","flarum/utils/extract","flarum/components/LoadingIndicator"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]}],execute:function(){o=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=babelHelpers._extends({},this.props);delete e.children,e.className=e.className||"";var t=r(e,"icon");t&&(e.className+=" hasIcon");var n=r(e,"loading");return(e.disabled||n)&&(e.className+=" disabled"+(n?" loading":""),delete e.onclick),m("button",e,this.getButtonContent())}},{key:"getButtonContent",value:function(){var e=this.props.icon;return[e&&e!==!0?n(e,{className:"Button-icon"}):"",this.props.children?m("span",{className:"Button-label"},this.props.children):"",this.props.loading?a.component({size:"tiny",className:"LoadingIndicator--inline"}):""]}}]),t}(t),e("default",o)}}}),System.register("flarum/components/Checkbox",["flarum/Component","flarum/components/LoadingIndicator","flarum/helpers/icon"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.loading=!1}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e="Checkbox "+(this.props.state?"on":"off")+" "+(this.props.className||"");return this.loading&&(e+=" loading"),this.props.disabled&&(e+=" disabled"),m("label",{className:e},m("input",{type:"checkbox",checked:this.props.state,disabled:this.props.disabled,onchange:m.withAttr("checked",this.onchange.bind(this))}),m("div",{className:"Checkbox-display"},this.getDisplay()),this.props.children)}},{key:"getDisplay",value:function(){return this.loading?n.component({size:"tiny"}):r(this.props.state?"check":"times")}},{key:"onchange",value:function(e){this.props.onchange&&this.props.onchange(e,this)}}]),t}(t),e("default",a)}}}),System.register("flarum/components/Dropdown",["flarum/Component","flarum/helpers/icon","flarum/helpers/listItems"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=this.props.children?r(this.props.children):[];return m("div",{className:"ButtonGroup Dropdown dropdown "+this.props.className+" itemCount"+e.length},this.getButton(),this.getMenu(e))}},{key:"config",value:function(e){var t=this;e||(this.$().on("shown.bs.dropdown",function(){var e=t.$(".Dropdown-menu").removeClass("Dropdown-menu--top");e.toggleClass("Dropdown-menu--top",e.offset().top+e.height()>$(window).scrollTop()+$(window).height())}),this.$().on("hide.bs.dropdown",function(){t.props.onhide&&(t.props.onhide(),m.redraw())}))}},{key:"getButton",value:function(){return m("button",{className:"Dropdown-toggle "+this.props.buttonClassName,"data-toggle":"dropdown",onclick:this.props.onclick},this.getButtonContent())}},{key:"getButtonContent",value:function(){return[this.props.icon?n(this.props.icon,{className:"Button-icon"}):"",m("span",{className:"Button-label"},this.props.label),this.props.caretIcon?n(this.props.caretIcon,{className:"Button-caret"}):""]}},{key:"getMenu",value:function(e){return m("ul",{className:"Dropdown-menu dropdown-menu "+this.props.menuClassName},e)}}],[{key:"initProps",value:function(e){babelHelpers.get(Object.getPrototypeOf(t),"initProps",this).call(this,e),e.className=e.className||"",e.buttonClassName=e.buttonClassName||"",e.menuClassName=e.menuClassName||"",e.label=e.label||app.trans("core.controls"),e.caretIcon="undefined"!=typeof e.caretIcon?e.caretIcon:"caret-down"}}]),t}(t),e("default",a)}}}),System.register("flarum/components/FieldSet",["flarum/Component","flarum/helpers/listItems"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("fieldset",{className:this.props.className},m("legend",null,this.props.label),m("ul",null,n(this.props.children)))}}]),t}(t),e("default",r)}}}),System.register("flarum/components/GroupBadge",["flarum/components/Badge"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"initProps",value:function(e){babelHelpers.get(Object.getPrototypeOf(t),"initProps",this).call(this,e),e.group&&(e.icon=e.group.icon(),e.style={backgroundColor:e.group.color()},e.label="undefined"==typeof e.label?e.group.nameSingular():e.label,e.type="group--"+e.group.nameSingular(),delete e.group)}}]),t}(t),e("default",n)}}}),System.register("flarum/components/LinkButton",["flarum/components/Button"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=babelHelpers.get(Object.getPrototypeOf(t.prototype),"view",this).call(this);return e.tag="a",e}}],[{key:"initProps",value:function(e){e.active=this.isActive(e),e.config=e.config||m.route}},{key:"isActive",value:function(e){return"undefined"!=typeof e.active?e.active:m.route()===e.href}}]),t}(t),e("default",n)}}}),System.register("flarum/components/LoadingIndicator",["flarum/Component"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=babelHelpers._extends({},this.props);return e.className="LoadingIndicator "+(e.className||""),delete e.size,m("div",e,m.trust("&nbsp;"))}},{key:"config",value:function(){var e=this.props.size||"small";$.fn.spin.presets[e].zIndex="auto",this.$().spin(e)}}]),t}(t),e("default",n)}}}),System.register("flarum/components/Modal",["flarum/Component","flarum/components/Alert","flarum/components/Button"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.alert=null}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return this.alert&&(this.alert.props.dismissible=!1),m("div",{className:"Modal modal-dialog "+this.className()},m("div",{className:"Modal-content"},this.isDismissible()?m("div",{className:"Modal-close App-backControl"},r.component({icon:"times",onclick:this.hide.bind(this),className:"Button Button--icon Button--link"})):"",m("form",{onsubmit:this.onsubmit.bind(this)},m("div",{className:"Modal-header"},m("h3",{className:"App-titleControl App-titleControl--text"},this.title())),alert?m("div",{className:"Modal-alert"},this.alert):"",this.content())))}},{key:"isDismissible",value:function(){return!0}},{key:"className",value:function(){}},{key:"title",value:function(){}},{key:"content",value:function(){}},{key:"onsubmit",value:function(){}},{key:"onready",value:function(){this.$("form :input:first").focus().select()}},{key:"hide",value:function(){app.modal.close()}},{key:"handleErrors",value:function(e){var t=e&&e.errors;t&&(this.alert=new n({type:"error",children:t.map(function(e,n){return[e.detail,n<t.length-1?m("br"):""]})})),m.redraw(),t?this.$("form [name="+t[0].path+"]").select():this.$("form :input:first").select()}}]),t}(t),e("default",a)}}}),System.register("flarum/components/ModalManager",["flarum/Component","flarum/components/Modal"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t);for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n),this.showing=!1,this.component=null}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("div",{className:"ModalManager modal fade"},this.component&&this.component.render())}},{key:"config",value:function(e,t){e||(t.retain=!0,this.$().on("hidden.bs.modal",this.clear.bind(this)).on("shown.bs.modal",this.onready.bind(this)))}},{key:"show",value:function(e){if(!(e instanceof n))throw new Error("The ModalManager component can only show Modal components");clearTimeout(this.hideTimeout),this.showing=!0,this.component=e,m.redraw(!0),this.$().modal({backdrop:this.component.isDismissible()?!0:"static"}).modal("show"),this.onready()}},{key:"close",value:function(){var e=this;this.showing&&(this.hideTimeout=setTimeout(function(){e.$().modal("hide"),e.showing=!1}))}},{key:"clear",value:function(){this.component=null,m.lazyRedraw()}},{key:"onready",value:function(){this.component&&this.component.onready&&this.component.onready(this.$())}}]),t}(t),e("default",r)}}}),System.register("flarum/components/Navigation",["flarum/Component","flarum/components/Button","flarum/components/LinkButton"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",
value:function(){var e=app,t=e.history,n=e.pane;return m("div",{className:"Navigation ButtonGroup "+(this.props.className||""),onmouseenter:n&&n.show.bind(n),onmouseleave:n&&n.onmouseleave.bind(n)},t.canGoBack()?[this.getBackButton(),this.getPaneButton()]:this.getDrawerButton())}},{key:"config",value:function(e,t){t.retain=!0}},{key:"getBackButton",value:function(){var e=app,t=e.history;return r.component({className:"Button Button--icon Navigation-back",href:t.backUrl(),icon:"chevron-left",config:function(){},onclick:function(e){e.shiftKey||e.ctrlKey||e.metaKey||2===e.which||(e.preventDefault(),t.back())}})}},{key:"getPaneButton",value:function(){var e=app,t=e.pane;return t&&t.active?n.component({className:"Button Button--icon Navigation-pin"+(t.pinned?" active":""),onclick:t.togglePinned.bind(t),icon:"thumb-tack"}):""}},{key:"getDrawerButton",value:function(){if(!this.props.drawer)return"";var e=app,t=e.drawer,r=app.session.user;return n.component({className:"Button Button--icon Navigation-drawer"+(r&&r.unreadNotificationsCount()?" unread":""),onclick:function(e){e.stopPropagation(),t.show()},icon:"reorder"})}}]),t}(t),e("default",a)}}}),System.register("flarum/components/Placeholder",["flarum/Component"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("div",{className:"Placeholder"},m("p",null,this.props.text))}}]),t}(t),e("default",n)}}}),System.register("flarum/components/Select",["flarum/Component","flarum/helpers/icon"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){var e=this.props,t=e.options,r=e.onchange,a=e.value;return m("span",{className:"Select"},m("select",{className:"Select-input FormControl",onchange:r?m.withAttr("value",r.bind(this)):void 0,value:a},Object.keys(t).map(function(e){return m("option",{value:e},t[e])})),n("sort",{className:"Select-caret"}))}}]),t}(t),e("default",r)}}}),System.register("flarum/components/SelectDropdown",["flarum/components/Dropdown","flarum/helpers/icon"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getButtonContent",value:function(){var e=this.props.children.filter(function(e){return e.props.active})[0],t=e&&e.props.children||this.props.defaultLabel;return t instanceof Array&&(t=t[0]),[m("span",{className:"Button-label"},t),n(this.props.caretIcon,{className:"Button-caret"})]}}],[{key:"initProps",value:function(e){e.caretIcon="undefined"!=typeof e.caretIcon?e.caretIcon:"sort",babelHelpers.get(Object.getPrototypeOf(t),"initProps",this).call(this,e),e.className+=" Dropdown--select"}}]),t}(t),e("default",r)}}}),System.register("flarum/components/Separator",["flarum/Component"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"view",value:function(){return m("li",{className:"Dropdown-separator"})}}]),t}(t),n.isListItem=!0,e("default",n)}}}),System.register("flarum/components/SplitDropdown",["flarum/components/Dropdown","flarum/components/Button","flarum/helpers/icon"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getButton",value:function(){var e=this.getFirstChild(),t=babelHelpers._extends({},e.props);return t.className=(t.className||"")+" SplitDropdown-button Button "+this.props.buttonClassName,[n.component(t),m("button",{className:"Dropdown-toggle Button Button--icon "+this.props.buttonClassName,"data-toggle":"dropdown"},r(this.props.icon,{className:"Button-icon"}),r("caret-down",{className:"Button-caret"}))]}},{key:"getFirstChild",value:function(){for(var e=this.props.children;e instanceof Array;)e=e[0];return e}}],[{key:"initProps",value:function(e){babelHelpers.get(Object.getPrototypeOf(t),"initProps",this).call(this,e),e.className+=" Dropdown--split",e.menuClassName+=" Dropdown-menu--right"}}]),t}(t),e("default",a)}}}),System.register("flarum/components/Switch",["flarum/components/Checkbox"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]}],execute:function(){n=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getDisplay",value:function(){return this.loading?babelHelpers.get(Object.getPrototypeOf(t.prototype),"getDisplay",this).call(this):""}}],[{key:"initProps",value:function(e){babelHelpers.get(Object.getPrototypeOf(t),"initProps",this).call(this,e),e.className=(e.className||"")+" Checkbox--switch"}}]),t}(t),e("default",n)}}}),System.register("flarum/helpers/avatar",[],function(e){"use strict";function t(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.className="Avatar "+(t.className||"");var n="",r="undefined"===t.title||t.title;if(r||delete t.title,e){var a=e.username()||"?",o=e.avatarUrl();if(r&&(t.title=t.title||a),o)return m("img",babelHelpers._extends({},t,{src:o}));n=a.charAt(0).toUpperCase(),t.style={background:e.color()}}return m("span",t,n)}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/helpers/fullTime",[],function(e){"use strict";function t(e){var t=moment(e),n=t.format(),r=t.format("LLLL");return m("time",{pubdate:!0,datetime:n},r)}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/helpers/highlight",["flarum/utils/string"],function(e){"use strict";function t(e,t,r){if(!t&&!r)return e;var a=t instanceof RegExp?t:new RegExp(t,"gi"),o=e,s=0;return r&&(t&&(s=Math.max(0,e.search(a)-r/2)),o=n(o,r,s)),o=$("<div/>").text(o).html(),t&&(o=o.replace(a,"<mark>$&</mark>")),m.trust(o)}var n;return e("default",t),{setters:[function(e){n=e.truncate}],execute:function(){}}}),System.register("flarum/helpers/humanTime",["flarum/utils/humanTime"],function(e){"use strict";function t(e){var t=moment(e),r=t.format(),a=t.format("LLLL"),o=n(e);return m("time",{pubdate:!0,datetime:r,title:a,"data-humantime":!0},o)}var n;return e("default",t),{setters:[function(e){n=e["default"]}],execute:function(){}}}),System.register("flarum/helpers/icon",[],function(e){"use strict";function t(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.className="icon fa fa-fw fa-"+e+" "+(t.className||""),m("i",t)}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/helpers/listItems",["flarum/components/Separator","flarum/utils/classList"],function(e){"use strict";function t(e){return e&&e.component===a}function n(e){var n=[],r=void 0;return e.forEach(function(a,o){(!t(a)||r&&!t(r)&&o!==e.length-1)&&(r=a,n.push(a))}),n}function r(e){return e instanceof Array||(e=[e]),n(e).map(function(e){var t=e.component&&e.component.isListItem,n=e.component&&e.component.isActive&&e.component.isActive(e.props),r=e.props?e.props.itemClassName:e.itemClassName;return[t?e:m("li",{className:o([e.itemName?"item-"+e.itemName:"",r,n?"active":""])},e)," "]})}var a,o;return e("default",r),{setters:[function(e){a=e["default"]},function(e){o=e["default"]}],execute:function(){}}}),System.register("flarum/helpers/punctuate",[],function(e){"use strict";function t(e){var t=[];return e.forEach(function(n,r){t.push(n),r<e.length-1&&t.push((e.length>2?", ":"")+(r===e.length-2?" and ":""))}),t}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/helpers/username",[],function(e){"use strict";function t(e){var t=e&&e.username()||app.trans("deleted");return m("span",{className:"username"},t)}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/initializers/humanTime",["flarum/utils/humanTime"],function(e){"use strict";function t(){$("[data-humantime]").each(function(){var e=$(this),t=r(e.attr("datetime"));e.html(t)})}function n(){setInterval(t,1e3)}var r;return e("default",n),{setters:[function(e){r=e["default"]}],execute:function(){}}}),System.register("flarum/initializers/preload",["flarum/Session"],function(e){"use strict";function t(e){e.store.pushPayload({data:e.preload.data}),e.forum=e.store.getById("forums",1),e.session=new n(e.preload.session.token,e.store.getById("users",e.preload.session.userId))}var n;return e("default",t),{setters:[function(e){n=e["default"]}],execute:function(){}}}),System.register("flarum/initializers/store",["flarum/Store","flarum/models/Forum","flarum/models/User","flarum/models/Discussion","flarum/models/Post","flarum/models/Group","flarum/models/Activity","flarum/models/Notification"],function(e){"use strict";function t(e){e.store=new n({forums:r,users:a,discussions:o,posts:s,groups:i,activity:u,notifications:l})}var n,r,a,o,s,i,u,l;return e("default",t),{setters:[function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]},function(e){i=e["default"]},function(e){u=e["default"]},function(e){l=e["default"]}],execute:function(){}}}),System.register("flarum/models/Discussion",["flarum/Model","flarum/utils/mixin","flarum/utils/computed","flarum/utils/ItemList","flarum/utils/string"],function(e){"use strict";var t,n,r,a,o,s;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e.slug}],execute:function(){s=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"removePost",value:function(e){var t=this.data.relationships,n=t&&t.posts;n&&n.data.some(function(t,r){return e===t.id?(n.data.splice(r,1),!0):void 0})}},{key:"unreadCount",value:function(){var e=app.session.user;return e&&e.readTime()<this.lastTime()?Math.max(0,this.lastPostNumber()-(this.readNumber()||0)):0}},{key:"badges",value:function(){return new a}},{key:"postIds",value:function(){return this.data.relationships.posts.data.map(function(e){return e.id})}}]),t}(n(t,{title:t.attribute("title"),slug:r("title",o),startTime:t.attribute("startTime",t.transformDate),startUser:t.hasOne("startUser"),startPost:t.hasOne("startPost"),lastTime:t.attribute("lastTime",t.transformDate),lastUser:t.hasOne("lastUser"),lastPost:t.hasOne("lastPost"),lastPostNumber:t.attribute("lastPostNumber"),commentsCount:t.attribute("commentsCount"),repliesCount:r("commentsCount",function(e){return Math.max(0,e-1)}),posts:t.hasMany("posts"),relevantPosts:t.hasMany("relevantPosts"),readTime:t.attribute("readTime",t.transformDate),readNumber:t.attribute("readNumber"),isUnread:r("unreadCount",function(e){return!!e}),isRead:r("unreadCount",function(e){return app.session.user&&!e}),canReply:t.attribute("canReply"),canRename:t.attribute("canRename"),canDelete:t.attribute("canDelete")})),e("default",s)}}}),System.register("flarum/models/Forum",["flarum/Model","flarum/utils/mixin"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"apiEndpoint",value:function(){return"/forum"}}]),t}(n(t,{canStartDiscussion:t.attribute("canStartDiscussion")})),e("default",r)}}}),System.register("flarum/models/Group",["flarum/Model","flarum/utils/mixin"],function(e){"use strict";var t,n,r;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){r=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),t}(n(t,{nameSingular:t.attribute("nameSingular"),namePlural:t.attribute("namePlural"),color:t.attribute("color"),icon:t.attribute("icon")})),r.ADMINISTRATOR_ID="1",r.GUEST_ID="2",r.MEMBER_ID="3",e("default",r)}}}),System.register("flarum/models/Notification",["flarum/Model","flarum/utils/mixin","flarum/utils/computed"],function(e){"use strict";var t,n,r,a;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]}],execute:function(){a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),t}(n(t,{contentType:t.attribute("contentType"),subjectId:t.attribute("subjectId"),content:t.attribute("content"),time:t.attribute("time",t.date),isRead:t.attribute("isRead"),unreadCount:t.attribute("unreadCount"),additionalUnreadCount:r("unreadCount",function(e){return Math.max(0,e-1)}),user:t.hasOne("user"),sender:t.hasOne("sender"),subject:t.hasOne("subject")})),e("default",a)}}}),System.register("flarum/models/Post",["flarum/Model","flarum/utils/mixin","flarum/utils/computed","flarum/utils/string"],function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e.getPlainContent}],execute:function(){o=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),t}(n(t,{number:t.attribute("number"),discussion:t.hasOne("discussion"),time:t.attribute("time",t.transformDate),user:t.hasOne("user"),contentType:t.attribute("contentType"),content:t.attribute("content"),contentHtml:t.attribute("contentHtml"),contentPlain:r("contentHtml",a),editTime:t.attribute("editTime",t.transformDate),editUser:t.hasOne("editUser"),isEdited:r("editTime",function(e){return!!e}),hideTime:t.attribute("hideTime",t.transformDate),hideUser:t.hasOne("hideUser"),isHidden:r("hideTime",function(e){return!!e}),canEdit:t.attribute("canEdit"),canDelete:t.attribute("canDelete")})),e("default",o)}}}),System.register("flarum/models/User",["flarum/Model","flarum/utils/mixin","flarum/utils/stringToColor","flarum/utils/ItemList","flarum/utils/computed","flarum/components/GroupBadge"],function(e){"use strict";var t,n,r,a,o,s,i;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]},function(e){r=e["default"]},function(e){a=e["default"]},function(e){o=e["default"]},function(e){s=e["default"]}],execute:function(){i=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"isOnline",value:function(){return this.lastSeenTime()>moment().subtract(5,"minutes").toDate()}},{key:"badges",value:function(){var e=new a,t=this.groups();return t&&t.forEach(function(t){t.nameSingular();e.add("group"+t.id(),s.component({group:t}))}),e}},{key:"calculateAvatarColor",value:function(){var e=new Image,t=this;e.onload=function(){var e=new ColorThief;t.avatarColor=e.getColor(this),t.freshness=new Date,m.redraw()},e.src=this.avatarUrl()}},{key:"savePreferences",value:function(e){var t=this.preferences();return babelHelpers._extends(t,e),this.save({preferences:t})}}]),t}(n(t,{username:t.attribute("username"),email:t.attribute("email"),isActivated:t.attribute("isActivated"),password:t.attribute("password"),avatarUrl:t.attribute("avatarUrl"),bio:t.attribute("bio"),bioHtml:o("bio",function(e){return e?"<p>"+$("<div/>").text(e).html().replace(/\n/g,"<br>").autoLink()+"</p>":""}),preferences:t.attribute("preferences"),groups:t.hasMany("groups"),joinTime:t.attribute("joinTime",t.transformDate),lastSeenTime:t.attribute("lastSeenTime",t.transformDate),readTime:t.attribute("readTime",t.transformDate),unreadNotificationsCount:t.attribute("unreadNotificationsCount"),discussionsCount:t.attribute("discussionsCount"),commentsCount:t.attribute("commentsCount"),canEdit:t.attribute("canEdit"),canDelete:t.attribute("canDelete"),avatarColor:null,color:o("username","avatarUrl","avatarColor",function(e,t,n){return n?"rgb("+n.join(", ")+")":t?(this.calculateAvatarColor(),""):"#"+r(e)})})),e("default",i)}}}),System.register("flarum/utils/Drawer",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(){var t=this;babelHelpers.classCallCheck(this,e),$("#content").click(function(e){t.isOpen()&&(e.preventDefault(),t.hide())})}return babelHelpers.createClass(e,[{key:"isOpen",value:function(){return $("#app").hasClass("drawerOpen")}},{key:"hide",value:function(){$("#app").removeClass("drawerOpen"),this.$backdrop&&this.$backdrop.remove()}},{key:"show",value:function(){var e=this;$("#app").addClass("drawerOpen"),this.$backdrop=$("<div/>").addClass("drawer-backdrop fade").appendTo("body").click(function(){return e.hide()}),setTimeout(function(){return e.$backdrop.addClass("in")})}}]),e}(),e("default",t)}}}),System.register("flarum/utils/ItemList",[],function(e){"use strict";var t,n;return{setters:[],execute:function(){t=function r(e,t){babelHelpers.classCallCheck(this,r),this.content=e,this.priority=t},n=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"add",value:function(e,n){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this[e]=new t(n,r)}},{key:"merge",value:function(e){for(var n in e)e.hasOwnProperty(n)&&e[n]instanceof t&&(this[n]=e[n])}},{key:"toArray",value:function(){var e=[];for(var n in this)this.hasOwnProperty(n)&&this[n]instanceof t&&(this[n].content=Object(this[n].content),this[n].content.itemName=n,e.push(this[n]),this[n].key=e.length);return e.sort(function(e,t){return e.priority===t.priority?e.key-t.key:e.priority>t.priority?-1:1}).map(function(e){return e.content})}}]),e}(),e("default",n)}}}),System.register("flarum/utils/ScrollListener",[],function(e){"use strict";var t,n;return{setters:[],execute:function(){t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},n=function(){function e(t){babelHelpers.classCallCheck(this,e),this.callback=t,this.lastTop=-1}return babelHelpers.createClass(e,[{key:"loop",value:function(){this.active&&(this.update(),t(this.loop.bind(this)))}},{key:"update",value:function(e){var t=window.pageYOffset;(this.lastTop!==t||e)&&(this.callback(t),this.lastTop=t)}},{key:"start",value:function(){this.active||(this.active=!0,this.loop())}},{key:"stop",value:function(){this.active=!1}}]),e}(),e("default",n)}}}),System.register("flarum/utils/SubtreeRetainer",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(){babelHelpers.classCallCheck(this,e);for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];this.callbacks=n,this.data={}}return babelHelpers.createClass(e,[{key:"retain",value:function(){var e=this,t=!1;return this.callbacks.forEach(function(n,r){var a=n();a!==e.data[r]&&(e.data[r]=a,t=!0)}),t?!1:{subtree:"retain"}}},{key:"check",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.callbacks=this.callbacks.concat(t)}},{key:"invalidate",value:function(){this.data={}}}]),e}(),e("default",t)}}}),System.register("flarum/utils/abbreviateNumber",[],function(e){"use strict";function t(e){return e>=1e6?Math.floor(e/1e6)+"M":e>=1e3?Math.floor(e/1e3)+"K":e.toString()}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/anchorScroll",[],function(e){"use strict";function t(e,t){var n=$(window),r=$(e).offset().top-n.scrollTop();t(),n.scrollTop($(e).offset().top-r)}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/classList",[],function(e){"use strict";function t(e){var t=void 0;if(e instanceof Array)t=e.filter(function(e){return e});else{t=[];for(var n in e)e[n]&&t.push(n)}return t.join(" ")}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/computed",[],function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.slice(0,-1),a=t.slice(-1)[0],o={},s=void 0;return function(){var e=this,t=!1;return r.forEach(function(n){var r="function"==typeof e[n]?e[n]():e[n];o[n]!==r&&(t=!0,o[n]=r)}),t&&(s=a.apply(this,r.map(function(e){return o[e]}))),s}}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/evented",[],function(e){"use strict";return{setters:[],execute:function(){e("default",{handlers:null,getHandlers:function(e){return this.handlers=this.handlers||{},this.handlers[e]=this.handlers[e]||[],this.handlers[e]},trigger:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),a=1;n>a;a++)r[a-1]=arguments[a];this.getHandlers(e).forEach(function(e){return e.apply(t,r)})},on:function(e,t){this.getHandlers(e).push(t)},one:function(e,t){var n=function r(){t.apply(this,arguments),this.off(e,r)};this.getHandlers(e).push(n)},off:function(e,t){var n=this.getHandlers(e),r=n.indexOf(t);-1!==r&&n.splice(r,1)}})}}}),System.register("flarum/utils/extract",[],function(e){"use strict";function t(e,t){var n=e[t];return delete e[t],n}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/extractText",[],function(e){"use strict";function t(e){var n="";return n+=e instanceof Array?e.map(function(e){return t(e)}).join(""):"object"==typeof e?t(e.children):e}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/formatNumber",[],function(e){"use strict";function t(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/humanTime",[],function(e){"use strict";function t(e){var t=moment(e),n=864e5,r=t.diff(moment()),a=null;return a=-30*n>r?t.year()===moment().year()?t.format("D MMM"):t.format("MMM 'YY"):t.fromNow()}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/mapRoutes",[],function(e){"use strict";function t(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n={};for(var r in e){var a=e[r];a.component&&(a.component.props.routeName=r),n[t+a.path]=a.component}return n}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/mixin",[],function(e){"use strict";function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];var a=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(t,e),t}(e);return n.forEach(function(e){babelHelpers._extends(a.prototype,e)}),a}return e("default",t),{setters:[],execute:function(){}}}),System.register("flarum/utils/patchMithril",["../Component"],function(e){"use strict";function t(e){var t=e.m,r=function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),o=1;r>o;o++)a[o-1]=arguments[o];return e.prototype&&e.prototype instanceof n?e.component.apply(e,a):t.apply(this,arguments)};Object.keys(t).forEach(function(e){return r[e]=t[e]}),r.lazyRedraw=function(){r.startComputation(),r.endComputation()},e.m=r}var n;return e("default",t),{setters:[function(e){n=e["default"]}],execute:function(){}}}),System.register("flarum/utils/string",[],function(e){"use strict";function t(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return(n>0?"...":"")+e.substring(n,n+t)+(e.length>n+t?"...":"")}function n(e){return e.toLowerCase().replace(/[^a-z0-9]/gi,"-").replace(/-+/g,"-").replace(/-$|^-/g,"")||"-"}function r(e){var t=$("<div/>").html(e.replace(/(<\/p>|<br>)/g,"$1 &nbsp;"));return t.find(r.removeSelectors.join(",")).remove(),t.text()}function a(e){return e.substr(0,1).toUpperCase()+e.substr(1)}return e("truncate",t),e("slug",n),e("getPlainContent",r),e("ucfirst",a),{setters:[],execute:function(){r.removeSelectors=["blockquote","script"]}}}),System.register("flarum/utils/stringToColor",[],function(e){"use strict";function t(e,t,n){var r=void 0,a=void 0,o=void 0,s=Math.floor(6*e),i=6*e-s,u=n*(1-t),l=n*(1-i*t),c=n*(1-(1-i)*t);switch(s%6){case 0:r=n,a=c,o=u;break;case 1:r=l,a=n,o=u;break;case 2:r=u,a=n,o=c;break;case 3:r=u,a=l,o=n;break;case 4:r=c,a=u,o=n;break;case 5:r=n,a=u,o=l}return{r:Math.floor(255*r),g:Math.floor(255*a),b:Math.floor(255*o)}}function n(e){for(var n=0,r=0;r<e.length;r++)n+=e.charCodeAt(r);var a=n%360,o=t(a/360,.3,.9);return""+o.r.toString(16)+o.g.toString(16)+o.b.toString(16)}return e("default",n),{setters:[],execute:function(){}}});